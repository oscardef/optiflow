/Users/oscar/Documents/GitHub/optiflow/esp32_simulator.py:464: DeprecationWarning: Callback API version 1 is deprecated, update to latest version
  client = mqtt.Client(userdata=userdata)
/Users/oscar/Documents/GitHub/optiflow/esp32_simulator.py:388: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  item.last_seen = datetime.utcnow()
/Users/oscar/Documents/GitHub/optiflow/esp32_simulator.py:492: DeprecationWarning: datetime.datetime.utcnow() is deprecated and scheduled for removal in a future version. Use timezone-aware objects to represent datetimes in UTC: datetime.datetime.now(datetime.UTC).
  "timestamp": datetime.utcnow().isoformat() + "Z",
ğŸš€ ESP32 UWB Simulator
==================================================
MQTT Broker: 172.20.10.3:1883
Publishing to: store/aisle1
Update interval: 0.5s
Anchors: ['0x0001', '0x0002', '0x0003', '0x0004']
Store size: 1000x800 cm
==================================================
ğŸ“¦ Generated 604 items in store
âš ï¸  Simulated 15 missing items (~2.5%)

âœ… Simulator started automatically (auto-start enabled)
   Send 'STOP' to pause: mosquitto_pub -h 172.20.10.3 -t store/control -m 'STOP'

âœ… Connected to MQTT broker at 172.20.10.3
ğŸ“¤ [1] Aisle 1 â†“ Down - Position: (200, 150)
   ğŸ·ï¸  Detected: 40 items
ğŸ“¤ Published status to store/status
ğŸ“¤ [2] Aisle 1 â†“ Down - Position: (200, 190)
   ğŸ·ï¸  Detected: 8 items
ğŸ“¤ [3] Aisle 1 â†“ Down - Position: (200, 231)
   ğŸ·ï¸  Detected: 10 items
ğŸ“¤ [4] Aisle 1 â†“ Down - Position: (200, 271)
   ğŸ·ï¸  Detected: 17 items
ğŸ“¤ [5] Aisle 1 â†“ Down - Position: (200, 311)
   ğŸ·ï¸  Detected: 10 items
ğŸ“¤ [6] Aisle 1 â†“ Down - Position: (200, 351)
   ğŸ·ï¸  Detected: 9 items
ğŸ“¤ [7] Aisle 1 â†“ Down - Position: (200, 392)
   ğŸ·ï¸  Detected: 16 items
ğŸ“¤ [8] Aisle 1 â†“ Down - Position: (200, 432)
   ğŸ·ï¸  Detected: 8 items
ğŸ“¤ [9] Aisle 1 â†“ Down - Position: (200, 472)
   ğŸ·ï¸  Detected: 8 items
ğŸ“¤ [10] Aisle 1 â†“ Down - Position: (200, 513)
   ğŸ·ï¸  Detected: 16 items
ğŸ“¤ [11] Aisle 1 â†“ Down - Position: (200, 553)
   ğŸ·ï¸  Detected: 8 items
ğŸ“¤ [12] Aisle 1 â†“ Down - Position: (200, 593)
ğŸ“¤ [13] Aisle 1 â†“ Down - Position: (200, 634)
ğŸ“¤ [14] Aisle 1 â†“ Down - Position: (200, 674)
ğŸ“¤ [15] Aisle 1 â†“ Down - Position: (200, 700)
ğŸ“¤ [16] Aisle 1 â†‘ Up - Position: (200, 700)
ğŸ“¤ [17] Aisle 1 â†‘ Up - Position: (200, 660)
ğŸ“¤ [18] Aisle 1 â†‘ Up - Position: (200, 619)
ğŸ“¤ [19] Aisle 1 â†‘ Up - Position: (200, 579)
ğŸ“¤ [20] Aisle 1 â†‘ Up - Position: (200, 539)
ğŸ“¤ [21] Aisle 1 â†‘ Up - Position: (200, 498)
ğŸ“¤ [22] Aisle 1 â†‘ Up - Position: (200, 458)
ğŸ“¤ [23] Aisle 1 â†‘ Up - Position: (200, 417)
ğŸ“¤ [24] Aisle 1 â†‘ Up - Position: (200, 400)
ğŸ“¤ [25] Aisle 2 â†“ Down - Position: (400, 400)
   ğŸ·ï¸  Detected: 88 items
ğŸ“¤ [26] Aisle 2 â†“ Down - Position: (400, 440)
   ğŸ·ï¸  Detected: 8 items
ğŸ“¤ [27] Aisle 2 â†“ Down - Position: (400, 481)
   ğŸ·ï¸  Detected: 16 items
ğŸ“¤ [28] Aisle 2 â†“ Down - Position: (400, 521)
   ğŸ·ï¸  Detected: 8 items
ğŸ“¤ [29] Aisle 2 â†“ Down - Position: (400, 561)
   ğŸ·ï¸  Detected: 8 items
ğŸ“¤ [30] Aisle 2 â†“ Down - Position: (400, 601)
ğŸ“¤ [31] Aisle 2 â†“ Down - Position: (400, 642)
ğŸ“¤ [32] Aisle 2 â†“ Down - Position: (400, 682)
ğŸ“¤ [33] Aisle 2 â†“ Down - Position: (400, 700)
ğŸ“¤ [34] Aisle 2 â†‘ Up - Position: (400, 700)
ğŸ“¤ [35] Aisle 2 â†‘ Up - Position: (400, 660)
ğŸ“¤ [36] Aisle 2 â†‘ Up - Position: (400, 619)
ğŸ“¤ [37] Aisle 2 â†‘ Up - Position: (400, 579)
ğŸ“¤ [38] Aisle 2 â†‘ Up - Position: (400, 539)
ğŸ“¤ [39] Aisle 2 â†‘ Up - Position: (400, 499)
ğŸ“¤ [40] Aisle 2 â†‘ Up - Position: (400, 458)
ğŸ“¤ [41] Aisle 2 â†‘ Up - Position: (400, 418)
ğŸ“¤ [42] Aisle 2 â†‘ Up - Position: (400, 400)
ğŸ“¤ [43] Aisle 3 â†“ Down - Position: (600, 400)
   ğŸ·ï¸  Detected: 88 items
ğŸ“¤ [44] Aisle 3 â†“ Down - Position: (600, 440)
   ğŸ·ï¸  Detected: 8 items
ğŸ“¤ [45] Aisle 3 â†“ Down - Position: (600, 481)
   ğŸ·ï¸  Detected: 16 items
ğŸ“¤ [46] Aisle 3 â†“ Down - Position: (600, 521)
   ğŸ·ï¸  Detected: 8 items
ğŸ“¤ [47] Aisle 3 â†“ Down - Position: (600, 561)
   ğŸ·ï¸  Detected: 8 items
ğŸ“¤ [48] Aisle 3 â†“ Down - Position: (600, 602)
ğŸ“¤ [49] Aisle 3 â†“ Down - Position: (600, 642)
ğŸ“¤ [50] Aisle 3 â†“ Down - Position: (600, 683)
ğŸ“¤ [51] Aisle 3 â†“ Down - Position: (600, 700)
ğŸ“¤ [52] Aisle 3 â†‘ Up - Position: (600, 700)
ğŸ“¤ [53] Aisle 3 â†‘ Up - Position: (600, 660)
ğŸ“¤ [54] Aisle 3 â†‘ Up - Position: (600, 619)
ğŸ“¤ [55] Aisle 3 â†‘ Up - Position: (600, 579)
ğŸ“¤ [56] Aisle 3 â†‘ Up - Position: (600, 538)
ğŸ“¤ [57] Aisle 3 â†‘ Up - Position: (600, 498)
ğŸ“¤ [58] Aisle 3 â†‘ Up - Position: (600, 458)
ğŸ“¤ [59] Aisle 3 â†‘ Up - Position: (600, 418)
ğŸ“¤ [60] Aisle 3 â†‘ Up - Position: (600, 400)
ğŸ“¤ [61] Aisle 4 â†“ Down - Position: (800, 400)
   ğŸ·ï¸  Detected: 86 items
ğŸ“¤ [62] Aisle 4 â†“ Down - Position: (800, 440)
   ğŸ·ï¸  Detected: 8 items
ğŸ“¤ [63] Aisle 4 â†“ Down - Position: (800, 481)
   ğŸ·ï¸  Detected: 16 items
ğŸ“¤ [64] Aisle 4 â†“ Down - Position: (800, 521)
   ğŸ·ï¸  Detected: 8 items
ğŸ“¤ [65] Aisle 4 â†“ Down - Position: (800, 562)
   ğŸ·ï¸  Detected: 8 items
ğŸ“¤ [66] Aisle 4 â†“ Down - Position: (800, 602)
ğŸ“¤ [67] Aisle 4 â†“ Down - Position: (800, 643)
ğŸ“¤ [68] Aisle 4 â†“ Down - Position: (800, 683)
ğŸ“¤ [69] Aisle 4 â†“ Down - Position: (800, 700)
ğŸ“¤ [70] Aisle 4 â†‘ Up - Position: (800, 700)
ğŸ“¤ [71] Aisle 4 â†‘ Up - Position: (800, 660)
ğŸ“¤ [72] Aisle 4 â†‘ Up - Position: (800, 619)
ğŸ“¤ [73] Aisle 4 â†‘ Up - Position: (800, 579)
ğŸ“¤ [74] Aisle 4 â†‘ Up - Position: (800, 539)
ğŸ“¤ [75] Aisle 4 â†‘ Up - Position: (800, 499)
ğŸ“¤ [76] Aisle 4 â†‘ Up - Position: (800, 458)
ğŸ“¤ [77] Aisle 4 â†‘ Up - Position: (800, 418)
ğŸ“¤ [78] Aisle 4 â†‘ Up - Position: (800, 400)
ğŸ“¤ [79] Aisle 1 â†“ Down - Position: (200, 400)
ğŸ“¤ [80] Aisle 1 â†“ Down - Position: (200, 440)
ğŸ“¤ [81] Aisle 1 â†“ Down - Position: (200, 481)
ğŸ“¤ [82] Aisle 1 â†“ Down - Position: (200, 521)
ğŸ“¤ [83] Aisle 1 â†“ Down - Position: (200, 562)
ğŸ“¤ [84] Aisle 1 â†“ Down - Position: (200, 602)
ğŸ“¤ [85] Aisle 1 â†“ Down - Position: (200, 642)
ğŸ“¤ [86] Aisle 1 â†“ Down - Position: (200, 683)
ğŸ“¤ [87] Aisle 1 â†“ Down - Position: (200, 700)
ğŸ“¤ [88] Aisle 1 â†‘ Up - Position: (200, 700)
ğŸ“¤ [89] Aisle 1 â†‘ Up - Position: (200, 660)
ğŸ“¤ [90] Aisle 1 â†‘ Up - Position: (200, 619)
ğŸ“¤ [91] Aisle 1 â†‘ Up - Position: (200, 577)
ğŸ“¤ [92] Aisle 1 â†‘ Up - Position: (200, 537)
ğŸ“¤ [93] Aisle 1 â†‘ Up - Position: (200, 496)
ğŸ“¤ [94] Aisle 1 â†‘ Up - Position: (200, 456)
ğŸ“¤ [95] Aisle 1 â†‘ Up - Position: (200, 416)
ğŸ“¤ [96] Aisle 1 â†‘ Up - Position: (200, 400)
ğŸ“¤ [97] Aisle 2 â†“ Down - Position: (400, 400)
ğŸ“¤ [98] Aisle 2 â†“ Down - Position: (400, 440)
ğŸ“¤ [99] Aisle 2 â†“ Down - Position: (400, 481)
ğŸ“¤ [100] Aisle 2 â†“ Down - Position: (400, 521)
ğŸ“¤ [101] Aisle 2 â†“ Down - Position: (400, 562)
ğŸ“¤ [102] Aisle 2 â†“ Down - Position: (400, 602)
ğŸ“¤ [103] Aisle 2 â†“ Down - Position: (400, 642)
ğŸ“¤ [104] Aisle 2 â†“ Down - Position: (400, 683)
ğŸ“¤ [105] Aisle 2 â†“ Down - Position: (400, 700)
ğŸ“¤ [106] Aisle 2 â†‘ Up - Position: (400, 700)
ğŸ“¤ [107] Aisle 2 â†‘ Up - Position: (400, 660)
ğŸ“¤ [108] Aisle 2 â†‘ Up - Position: (400, 619)
ğŸ“¤ [109] Aisle 2 â†‘ Up - Position: (400, 579)
ğŸ“¤ [110] Aisle 2 â†‘ Up - Position: (400, 539)
ğŸ“¤ [111] Aisle 2 â†‘ Up - Position: (400, 498)
ğŸ“¤ [112] Aisle 2 â†‘ Up - Position: (400, 458)
ğŸ“¤ [113] Aisle 2 â†‘ Up - Position: (400, 418)
ğŸ“¤ [114] Aisle 2 â†‘ Up - Position: (400, 400)
ğŸ“¤ [115] Aisle 3 â†“ Down - Position: (600, 400)
ğŸ“¤ [116] Aisle 3 â†“ Down - Position: (600, 440)
ğŸ“¤ [117] Aisle 3 â†“ Down - Position: (600, 481)
ğŸ“¤ [118] Aisle 3 â†“ Down - Position: (600, 521)
ğŸ“¤ [119] Aisle 3 â†“ Down - Position: (600, 561)
ğŸ“¤ [120] Aisle 3 â†“ Down - Position: (600, 601)
ğŸ“¤ [121] Aisle 3 â†“ Down - Position: (600, 642)
ğŸ“¤ [122] Aisle 3 â†“ Down - Position: (600, 682)
ğŸ“¤ [123] Aisle 3 â†“ Down - Position: (600, 700)
ğŸ“¤ [124] Aisle 3 â†‘ Up - Position: (600, 700)
ğŸ“¤ [125] Aisle 3 â†‘ Up - Position: (600, 660)
ğŸ“¤ [126] Aisle 3 â†‘ Up - Position: (600, 619)
ğŸ“¤ [127] Aisle 3 â†‘ Up - Position: (600, 579)
ğŸ“¤ [128] Aisle 3 â†‘ Up - Position: (600, 539)
ğŸ“¤ [129] Aisle 3 â†‘ Up - Position: (600, 498)
ğŸ“¤ [130] Aisle 3 â†‘ Up - Position: (600, 458)
ğŸ“¤ [131] Aisle 3 â†‘ Up - Position: (600, 418)
ğŸ“¤ [132] Aisle 3 â†‘ Up - Position: (600, 400)
ğŸ“¤ [133] Aisle 4 â†“ Down - Position: (800, 400)
ğŸ“¤ [134] Aisle 4 â†“ Down - Position: (800, 440)
ğŸ“¤ [135] Aisle 4 â†“ Down - Position: (800, 480)
ğŸ“¤ [136] Aisle 4 â†“ Down - Position: (800, 521)
ğŸ“¤ [137] Aisle 4 â†“ Down - Position: (800, 561)
ğŸ“¤ [138] Aisle 4 â†“ Down - Position: (800, 601)
ğŸ“¤ [139] Aisle 4 â†“ Down - Position: (800, 642)